"use strict";
var Complex=require('Complex'); //exportable class
var fullDistribution=function(vasM, logClasses){ //takes IntegroVasicekMG and an array of charactersitic functions as arguments
	this.vasM=vasM;
	this.logClasses=logClasses;
	this.m=logClasses[0].getM();
	this.n=logClasses.length;
	this.totalLogCF=[];
}
fullDistribution.prototype.execute=function(u){
	var vct=[];
	var nn=this.n;//for speed
	var mm=this.m;//for speed
	for(var i=0; i<nn; i++){
		vct[i]=this.logClasses[i].logCF(u); //all classes should have logCF!
	}
	for(var j=0; j<mm; j++){
		var plc=new Complex(0, 0);
		for(var i=0; i<nn; i++){
			plc=plc.add(vct[i][j]);
		}
		this.totalLogCF[j]=plc;
	}
	return this.vasM.execute(this.totalLogCF);
}
fullDistribution.prototype.getM=function(){
	return this.m;
}
module.exports=fullDistribution;
