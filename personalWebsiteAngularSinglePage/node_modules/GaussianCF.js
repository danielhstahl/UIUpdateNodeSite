"use strict";
var Complex=require('Complex'); //exportable class
var gaussianCF=function(mu, sigma, options){
	if(options.w){
		this.w=options.w;
	}
	else{
		this.w=[1];
	}
	this.mu=mu;
	this.sigma=sigma;
	this.m=this.w.length;
}
gaussianCF.prototype.logCF=function(u){	
	var returnValue=[];
	for(var i=0;i<this.m;i++){
		var mu=this.w[i]*this.mu;
		var sigma=this.w[i]*this.sigma;
		returnValue[i]=u.multiply(new Complex(mu, 0)).add(u.multiply(u).multiply(new Complex(sigma*sigma*.5, 0)));
	}
	return returnValue;

}
gaussianCF.prototype.execute=function(u){	
	var returnValue=u.multiply(new Complex(this.mu, 0)).add(u.multiply(u).multiply(new Complex(this.sigma*this.sigma*.5, 0))).exp();
	return returnValue;

}
gaussianCF.prototype.getM=function(){
	return this.m;
}
module.exports=gaussianCF;